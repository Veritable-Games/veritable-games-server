openapi: 3.1.0
info:
  title: Veritable Games API
  description: |
    Comprehensive API documentation for the Veritable Games platform.

    ## Overview
    The Veritable Games API provides endpoints for forums, wiki, library, user management,
    messaging, and administrative functions. The API uses JWT-based authentication with
    CSRF protection and implements tiered rate limiting.

    ## Authentication
    Most endpoints require authentication via JWT tokens stored in HTTP-only cookies.
    Obtain a session by calling `/api/auth/login` with valid credentials.

    ## Rate Limiting
    - **auth**: 5 requests per 15 minutes (login/register endpoints)
    - **api**: 60 requests per minute (standard API endpoints)
    - **page**: 100 requests per minute (page loads)
    - **public**: 1000 requests per minute (public resources)
    - **strict**: 10 requests per minute (sensitive operations)
    - **generous**: 300 requests per minute (real-time features)

    ## CSRF Protection
    State-changing requests (POST, PUT, DELETE) require a valid CSRF token.
    Obtain tokens via `/api/auth/csrf-token`.

    ## Current Status
    Based on testing (Sept 2025), approximately 8% of features are fully functional,
    52% have issues, and 40% are untested. This documentation reflects the intended
    API design; actual functionality may vary.

  version: 1.0.0
  contact:
    name: Veritable Games Support
    email: support@veritablegames.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:3000
    description: Local development server
  - url: https://api.veritablegames.com
    description: Production server

tags:
  - name: Authentication
    description: User authentication and session management
  - name: Forums
    description: Forum topics, replies, and categories
  - name: Wiki
    description: Wiki pages and content management
  - name: Library
    description: Document library and annotations
  - name: Users
    description: User profiles and settings
  - name: Messages
    description: Private messaging system
  - name: Admin
    description: Administrative functions
  - name: Monitoring
    description: System health and performance
  - name: Security
    description: Security-related endpoints

components:
  securitySchemes:
    cookieAuth:
      type: apiKey
      in: cookie
      name: sessionId
      description: Session cookie set after successful login

    csrfToken:
      type: apiKey
      in: header
      name: X-CSRF-Token
      description: CSRF token for state-changing operations

  schemas:
    ApiSuccess:
      type: object
      required:
        - success
        - data
      properties:
        success:
          type: boolean
          enum: [true]
        data:
          type: object
          description: Response data (varies by endpoint)
        message:
          type: string
          description: Optional success message
        meta:
          $ref: '#/components/schemas/ResponseMeta'

    ApiError:
      type: object
      required:
        - success
        - error
      properties:
        success:
          type: boolean
          enum: [false]
        error:
          oneOf:
            - type: string
              description: Simple error message
            - type: object
              properties:
                code:
                  type: string
                  description: Error code
                message:
                  type: string
                  description: Human-readable error message
                details:
                  type: object
                  description: Additional error details
                field:
                  type: string
                  description: Field that caused the error
        meta:
          $ref: '#/components/schemas/ResponseMeta'

    ResponseMeta:
      type: object
      properties:
        timestamp:
          type: string
          format: date-time
        requestId:
          type: string
        version:
          type: string
        rateLimit:
          $ref: '#/components/schemas/RateLimit'

    RateLimit:
      type: object
      properties:
        limit:
          type: integer
          description: Maximum requests allowed
        remaining:
          type: integer
          description: Requests remaining in window
        reset:
          type: string
          format: date-time
          description: When the rate limit resets

    PaginationParams:
      type: object
      properties:
        page:
          type: integer
          minimum: 1
          default: 1
        limit:
          type: integer
          minimum: 1
          maximum: 100
          default: 20
        sort:
          type: string
        order:
          type: string
          enum: [asc, desc]
          default: desc

    PaginationMeta:
      type: object
      properties:
        page:
          type: integer
        limit:
          type: integer
        total:
          type: integer
        totalPages:
          type: integer
        hasNext:
          type: boolean
        hasPrev:
          type: boolean

    User:
      type: object
      properties:
        id:
          type: string
          description: User ID
        username:
          type: string
          description: Unique username
        email:
          type: string
          format: email
        displayName:
          type: string
        bio:
          type: string
        avatarUrl:
          type: string
          format: uri
        role:
          type: string
          enum: [user, moderator, admin, super_admin]
        status:
          type: string
          enum: [active, suspended, deleted]
        emailVerified:
          type: boolean
        lastLoginAt:
          type: string
          format: date-time
        createdAt:
          type: string
          format: date-time
        profile:
          $ref: '#/components/schemas/UserProfile'

    UserProfile:
      type: object
      properties:
        location:
          type: string
        websiteUrl:
          type: string
          format: uri
        githubUrl:
          type: string
          format: uri
        mastodonUrl:
          type: string
          format: uri
        discordUsername:
          type: string
        steamUrl:
          type: string
          format: uri
        avatarPositionX:
          type: number
        avatarPositionY:
          type: number
        avatarScale:
          type: number

    ForumTopic:
      type: object
      properties:
        id:
          type: string
        category_id:
          type: string
        title:
          type: string
        content:
          type: string
        author_id:
          type: string
        author:
          $ref: '#/components/schemas/User'
        status:
          type: string
          enum: [open, closed, locked]
        is_pinned:
          type: boolean
        view_count:
          type: integer
        reply_count:
          type: integer
        last_reply_at:
          type: string
          format: date-time
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'

    ForumReply:
      type: object
      properties:
        id:
          type: string
        topic_id:
          type: string
        content:
          type: string
        author_id:
          type: string
        author:
          $ref: '#/components/schemas/User'
        is_solution:
          type: boolean
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    ForumCategory:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        slug:
          type: string
        description:
          type: string
        parent_id:
          type: string
          nullable: true
        display_order:
          type: integer
        topic_count:
          type: integer
        post_count:
          type: integer

    WikiPage:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        slug:
          type: string
        content:
          type: string
        summary:
          type: string
        category_id:
          type: string
        author_id:
          type: string
        is_published:
          type: boolean
        version:
          type: integer
        view_count:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        tags:
          type: array
          items:
            type: string

    LibraryDocument:
      type: object
      properties:
        id:
          type: string
        title:
          type: string
        slug:
          type: string
        author:
          type: string
        content:
          type: string
        summary:
          type: string
        category:
          type: string
        tags:
          type: array
          items:
            type: string
        file_path:
          type: string
        file_size:
          type: integer
        mime_type:
          type: string
        download_count:
          type: integer
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time

    Message:
      type: object
      properties:
        id:
          type: string
        conversation_id:
          type: string
        sender_id:
          type: string
        recipient_id:
          type: string
        content:
          type: string
        is_read:
          type: boolean
        created_at:
          type: string
          format: date-time

    Tag:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        slug:
          type: string
        description:
          type: string
        usage_count:
          type: integer

    LoginRequest:
      type: object
      required:
        - username
        - password
      properties:
        username:
          type: string
          minLength: 3
        password:
          type: string
          minLength: 8

    RegisterRequest:
      type: object
      required:
        - username
        - email
        - password
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 20
          pattern: '^[a-zA-Z0-9_-]+$'
        email:
          type: string
          format: email
        password:
          type: string
          minLength: 8
        displayName:
          type: string

    CreateTopicRequest:
      type: object
      required:
        - category_id
        - title
        - content
      properties:
        category_id:
          type: string
        title:
          type: string
          minLength: 3
          maxLength: 200
        content:
          type: string
          minLength: 10
        status:
          type: string
          enum: [open, closed]
          default: open
        is_pinned:
          type: boolean
          default: false
        tags:
          type: array
          items:
            type: integer

    CreateReplyRequest:
      type: object
      required:
        - topic_id
        - content
      properties:
        topic_id:
          type: string
        content:
          type: string
          minLength: 1

    CSRFTokenResponse:
      type: object
      properties:
        success:
          type: boolean
        data:
          type: object
          properties:
            csrfToken:
              type: string
            csrfSecret:
              type: string

  responses:
    UnauthorizedError:
      description: Authentication required
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
          example:
            success: false
            error: "Authentication required"

    ForbiddenError:
      description: Insufficient permissions
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
          example:
            success: false
            error: "Insufficient permissions"

    NotFoundError:
      description: Resource not found
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
          example:
            success: false
            error: "Resource not found"

    ValidationError:
      description: Validation failed
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
          example:
            success: false
            error:
              code: "VALIDATION_ERROR"
              message: "Validation failed"
              details:
                field: "username"
                reason: "Username already exists"

    RateLimitError:
      description: Rate limit exceeded
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
          example:
            success: false
            error: "Rate limit exceeded"
            meta:
              rateLimit:
                limit: 60
                remaining: 0
                reset: "2025-09-17T12:00:00Z"

    ServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ApiError'
          example:
            success: false
            error: "Internal server error"

paths:
  # Authentication Endpoints
  /api/auth/login:
    post:
      tags:
        - Authentication
      summary: User login
      description: Authenticate user and create session
      operationId: login
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Login successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          user:
                            $ref: '#/components/schemas/User'
          headers:
            Set-Cookie:
              schema:
                type: string
              description: Session cookie
        '401':
          description: Invalid credentials
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiError'
        '429':
          $ref: '#/components/responses/RateLimitError'

  /api/auth/register:
    post:
      tags:
        - Authentication
      summary: User registration
      description: Create new user account
      operationId: register
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '201':
          description: Registration successful
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          user:
                            $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/ValidationError'
        '429':
          $ref: '#/components/responses/RateLimitError'

  /api/auth/logout:
    post:
      tags:
        - Authentication
      summary: User logout
      description: End user session
      operationId: logout
      security:
        - cookieAuth: []
        - csrfToken: []
      responses:
        '200':
          description: Logout successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiSuccess'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/auth/me:
    get:
      tags:
        - Authentication
      summary: Get current user
      description: Retrieve authenticated user information
      operationId: getCurrentUser
      security:
        - cookieAuth: []
      responses:
        '200':
          description: User information
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          user:
                            $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/auth/csrf-token:
    get:
      tags:
        - Authentication
      summary: Get CSRF token
      description: Obtain CSRF token for state-changing operations
      operationId: getCSRFToken
      responses:
        '200':
          description: CSRF token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CSRFTokenResponse'
    post:
      tags:
        - Authentication
      summary: Generate new CSRF token
      description: Generate a fresh CSRF token
      operationId: generateCSRFToken
      responses:
        '200':
          description: New CSRF token
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CSRFTokenResponse'

  # Forum Endpoints
  /api/forums/topics:
    get:
      tags:
        - Forums
      summary: List forum topics
      description: Retrieve paginated list of forum topics
      operationId: getTopics
      parameters:
        - name: category_id
          in: query
          schema:
            type: string
          description: Filter by category
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: List of topics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          topics:
                            type: array
                            items:
                              $ref: '#/components/schemas/ForumTopic'
    post:
      tags:
        - Forums
      summary: Create forum topic
      description: Create new forum topic
      operationId: createTopic
      security:
        - cookieAuth: []
        - csrfToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTopicRequest'
      responses:
        '201':
          description: Topic created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          topic:
                            $ref: '#/components/schemas/ForumTopic'
        '400':
          $ref: '#/components/responses/ValidationError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/forums/topics/{id}:
    get:
      tags:
        - Forums
      summary: Get forum topic
      description: Retrieve specific forum topic by ID
      operationId: getTopic
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Topic details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          topic:
                            $ref: '#/components/schemas/ForumTopic'
        '404':
          $ref: '#/components/responses/NotFoundError'
    delete:
      tags:
        - Forums
      summary: Delete forum topic
      description: Delete a forum topic
      operationId: deleteTopic
      security:
        - cookieAuth: []
        - csrfToken: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Topic deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiSuccess'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /api/forums/replies:
    post:
      tags:
        - Forums
      summary: Create forum reply
      description: Add reply to forum topic
      operationId: createReply
      security:
        - cookieAuth: []
        - csrfToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateReplyRequest'
      responses:
        '201':
          description: Reply created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          reply:
                            $ref: '#/components/schemas/ForumReply'
        '400':
          $ref: '#/components/responses/ValidationError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /api/forums/categories:
    get:
      tags:
        - Forums
      summary: List forum categories
      description: Retrieve all forum categories
      operationId: getCategories
      security:
        - cookieAuth: []
      responses:
        '200':
          description: List of categories
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          categories:
                            type: array
                            items:
                              $ref: '#/components/schemas/ForumCategory'

  # Wiki Endpoints
  /api/wiki/pages:
    get:
      tags:
        - Wiki
      summary: List wiki pages
      description: Retrieve paginated list of wiki pages
      operationId: getWikiPages
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            default: 0
        - name: category_id
          in: query
          schema:
            type: string
      responses:
        '200':
          description: List of wiki pages
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          pages:
                            type: array
                            items:
                              $ref: '#/components/schemas/WikiPage'
    post:
      tags:
        - Wiki
      summary: Create wiki page
      description: Create new wiki page
      operationId: createWikiPage
      security:
        - cookieAuth: []
        - csrfToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - content
              properties:
                title:
                  type: string
                slug:
                  type: string
                content:
                  type: string
                summary:
                  type: string
                category_id:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
      responses:
        '201':
          description: Wiki page created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          page:
                            $ref: '#/components/schemas/WikiPage'

  /api/wiki/pages/{slug}:
    get:
      tags:
        - Wiki
      summary: Get wiki page
      description: Retrieve wiki page by slug
      operationId: getWikiPage
      parameters:
        - name: slug
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Wiki page details
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          page:
                            $ref: '#/components/schemas/WikiPage'
        '404':
          $ref: '#/components/responses/NotFoundError'
    put:
      tags:
        - Wiki
      summary: Update wiki page
      description: Update existing wiki page
      operationId: updateWikiPage
      security:
        - cookieAuth: []
        - csrfToken: []
      parameters:
        - name: slug
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
                summary:
                  type: string
                category_id:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Wiki page updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          page:
                            $ref: '#/components/schemas/WikiPage'
    delete:
      tags:
        - Wiki
      summary: Delete wiki page
      description: Delete a wiki page
      operationId: deleteWikiPage
      security:
        - cookieAuth: []
        - csrfToken: []
      parameters:
        - name: slug
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Wiki page deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiSuccess'

  # Library Endpoints
  /api/library/documents:
    post:
      tags:
        - Library
      summary: Create library document
      description: Add new document to library
      operationId: createDocument
      security:
        - cookieAuth: []
        - csrfToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - content
              properties:
                title:
                  type: string
                slug:
                  type: string
                author:
                  type: string
                content:
                  type: string
                summary:
                  type: string
                category:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
      responses:
        '201':
          description: Document created
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          document:
                            $ref: '#/components/schemas/LibraryDocument'

  /api/library/documents/by-slug/{slug}:
    put:
      tags:
        - Library
      summary: Update library document
      description: Update existing library document
      operationId: updateDocument
      security:
        - cookieAuth: []
        - csrfToken: []
      parameters:
        - name: slug
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                title:
                  type: string
                content:
                  type: string
                summary:
                  type: string
                tags:
                  type: array
                  items:
                    type: string
      responses:
        '200':
          description: Document updated
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          document:
                            $ref: '#/components/schemas/LibraryDocument'

  # User Endpoints
  /api/users/{id}:
    get:
      tags:
        - Users
      summary: Get user profile
      description: Retrieve user profile by ID
      operationId: getUserProfile
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          user:
                            $ref: '#/components/schemas/User'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /api/users/{id}/profile:
    get:
      tags:
        - Users
      summary: Get extended user profile
      description: Retrieve extended user profile information
      operationId: getExtendedUserProfile
      security:
        - cookieAuth: []
      parameters:
        - name: id
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Extended user profile
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          profile:
                            $ref: '#/components/schemas/UserProfile'

  # Messaging Endpoints
  /api/messages:
    get:
      tags:
        - Messages
      summary: List messages
      description: Get user messages
      operationId: getMessages
      security:
        - cookieAuth: []
      parameters:
        - name: limit
          in: query
          schema:
            type: integer
            default: 20
        - name: offset
          in: query
          schema:
            type: integer
            default: 0
      responses:
        '200':
          description: List of messages
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          messages:
                            type: array
                            items:
                              $ref: '#/components/schemas/Message'

  /api/messages/send:
    post:
      tags:
        - Messages
      summary: Send message
      description: Send a private message
      operationId: sendMessage
      security:
        - cookieAuth: []
        - csrfToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - recipient_id
                - content
              properties:
                recipient_id:
                  type: string
                content:
                  type: string
      responses:
        '201':
          description: Message sent
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          message:
                            $ref: '#/components/schemas/Message'

  # Health & Monitoring
  /api/health:
    get:
      tags:
        - Monitoring
      summary: Health check
      description: Basic health check endpoint
      operationId: healthCheck
      responses:
        '200':
          description: Service is healthy
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  data:
                    type: object
                    properties:
                      status:
                        type: string
                        enum: [healthy]
                      timestamp:
                        type: string
                        format: date-time

  /api/monitoring/dashboard:
    get:
      tags:
        - Monitoring
      summary: Monitoring dashboard data
      description: Get comprehensive monitoring metrics
      operationId: getMonitoringDashboard
      responses:
        '200':
          description: Monitoring metrics
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/ApiSuccess'
                  - type: object
                    properties:
                      data:
                        type: object
                        properties:
                          system:
                            type: object
                            properties:
                              cpu:
                                type: number
                              memory:
                                type: object
                              uptime:
                                type: number
                          database:
                            type: object
                            properties:
                              connections:
                                type: integer
                              queries:
                                type: integer
                          api:
                            type: object
                            properties:
                              requests:
                                type: integer
                              errors:
                                type: integer
                              latency:
                                type: number

  # Security Endpoints
  /api/security/csp-violation:
    post:
      tags:
        - Security
      summary: Report CSP violation
      description: Report Content Security Policy violations
      operationId: reportCSPViolation
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
      responses:
        '204':
          description: Violation reported

# Additional endpoints continue following the same pattern...
# This is a representative sample of the 249 total endpoints